<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¦… Ababeel Finance Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
body { margin:0; font-family:'Inter','Roboto',sans-serif; transition: background 0.3s,color 0.3s; background:#f5f6fa; color:#333; }
body.dark { background:#121212; color:#eee; }
.hidden-section { display:none; }
.sidebar { position: fixed; top:0; left:0; width:250px; height:100%; background:#1f2a38; color:#fff; overflow-y:auto; transition:0.3s; z-index:100; }
.sidebar a { display:block; color:#fff; padding:15px; text-decoration:none; position: relative; transition:0.3s; border-left:3px solid transparent; }
.sidebar a:hover, .sidebar a.active { background:#2c3e50; border-left:3px solid #3498db; padding-left:22px; }
.content { margin-left:250px; padding:20px; transition:0.3s; }
.glass { backdrop-filter: blur(12px); background: rgba(255,255,255,0.08); border-radius: 15px; padding:20px; transition:0.3s; box-shadow:0 10px 25px rgba(0,0,0,0.1); }
.table tr:hover { background: rgba(0,0,0,0.05); transition:0.3s; }
.rtl { direction: rtl; text-align:right; }
.btn-float { position: fixed; bottom:30px; right:30px; z-index:1000; transition:0.3s; }
.btn-float:hover { transform: scale(1.05); }
.login-page { display:flex; justify-content:center; align-items:center; height:100vh; background: linear-gradient(135deg,#2c3e50,#3498db); background-size: 400% 400%; animation: gradientBG 15s ease infinite; }
.login-card { background: rgba(255,255,255,0.12); backdrop-filter: blur(15px); padding:40px; border-radius:20px; width:360px; box-shadow:0 15px 40px rgba(0,0,0,0.3); color:#fff; animation:fadeIn 1s ease-in; }
.login-card h2 { text-align:center; margin-bottom:25px; font-weight:700; }
.login-card input { margin-bottom:20px; background: rgba(255,255,255,0.05); border:none; border-radius:10px; padding:12px 15px; color:#fff; }
.login-card input:focus { outline:none; box-shadow:0 0 10px rgba(52,152,219,0.5); }
.login-card button { width:100%; border-radius:10px; padding:12px; font-weight:600; }
#errorLogin { display:none; text-align:center; margin-bottom:10px; }
@keyframes fadeIn { 0%{opacity:0; transform:translateY(-20px);} 100%{opacity:1; transform:translateY(0);} }
@keyframes gradientBG { 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }
.dark .glass { background: rgba(255,255,255,0.05); }
</style>
</head>
<body>

<!-- Login Page -->
<div id="loginPage" class="login-page">
  <div class="login-card">
    <h2>ğŸ¦… Ø£Ø¨Ø§Ø¨ÙŠÙ„ Ababeel Finance</h2>
    <input type="text" id="loginUsername" class="form-control" placeholder="Username">
    <input type="password" id="loginPassword" class="form-control" placeholder="Password">
    <div id="errorLogin" class="text-danger">Incorrect username or password!</div>
    <button class="btn btn-primary mt-2" id="loginBtn">Login</button>
  </div>
</div>

<!-- Sidebar -->
<div class="sidebar hidden-section" id="sidebar">
  <h4 class="text-center py-3">Ababeel Portal</h4>
  <a href="#" data-section="dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
  <a href="#" data-section="transactions"><i class="fas fa-exchange-alt"></i> Transactions</a>
  <a href="#" data-section="accounts"><i class="fas fa-wallet"></i> Accounts</a>
  <a href="#" data-section="categories"><i class="fas fa-list"></i> Categories</a>
  <a href="#" data-section="reports"><i class="fas fa-chart-pie"></i> Reports</a>
  <a href="#" data-section="settings"><i class="fas fa-cog"></i> Settings</a>
  <a href="#" data-section="about"><i class="fas fa-info-circle"></i> About</a>
  <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a>
</div>

<!-- Main Content -->
<div class="content hidden-section" id="mainContent">

  <!-- Dashboard -->
  <div id="dashboard" class="active-section">
    <h2>Dashboard</h2>
    <p class="lead">ÙˆÙØ§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¥ÙØ°ÙØ§ Ø£ÙÙ†ÙÙÙ‚ÙÙˆØ§ Ù„ÙÙ…Ù’ ÙŠÙØ³Ù’Ø±ÙÙÙÙˆØ§ ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙÙ‚Ù’ØªÙØ±ÙÙˆØ§ ÙˆÙÙƒÙØ§Ù†Ù Ø¨ÙÙŠÙ’Ù†Ù Ø°ÙÙ°Ù„ÙÙƒÙ Ù‚ÙÙˆÙØ§Ù…Ù‹Ø§ â€” Surah Al-Furqan 25:67</p>
    <div class="row">
      <div class="col-md-3"><div class="glass p-3 text-center"><h5>Total Income</h5><h3 id="totalIncome">$0</h3></div></div>
      <div class="col-md-3"><div class="glass p-3 text-center"><h5>Total Expense</h5><h3 id="totalExpense">$0</h3></div></div>
      <div class="col-md-3"><div class="glass p-3 text-center"><h5>Net Savings</h5><h3 id="netSavings">$0</h3></div></div>
      <div class="col-md-3"><div class="glass p-3 text-center"><h5>Cash Balance</h5><h3 id="cashBalance">$0</h3></div></div>
    </div>
    <h4 class="mt-4">Recent Transactions</h4>
    <table class="table table-striped table-bordered">
      <thead><tr><th>Date</th><th>Account</th><th>Category</th><th>Type</th><th>Amount</th></tr></thead>
      <tbody id="recentTransactions"></tbody>
    </table>
  </div>

  <!-- Transactions -->
  <div id="transactions" class="hidden-section mt-3">
    <h2>Transactions <button class="btn btn-primary btn-sm btn-float" id="addTransactionBtn">+ Add</button></h2>
    <table class="table table-striped table-bordered">
      <thead><tr><th>Date</th><th>Account</th><th>Category</th><th>Type</th><th>Amount</th><th>Actions</th></tr></thead>
      <tbody id="transactionBody"></tbody>
    </table>
  </div>

  <!-- Accounts -->
  <div id="accounts" class="hidden-section mt-3">
    <h2>Accounts <button class="btn btn-primary btn-sm" id="addAccountBtn">+ Add Account</button></h2>
    <ul id="accountList" class="list-group mt-2"></ul>
  </div>

  <!-- Categories -->
  <div id="categories" class="hidden-section mt-3">
    <h2>Categories <button class="btn btn-primary btn-sm" id="addCategoryBtn">+ Add Category</button></h2>
    <ul id="categoryList" class="list-group mt-2" style="max-height:200px; overflow-y:auto;"></ul>
  </div>

  <!-- Reports -->
  <div id="reports" class="hidden-section mt-3">
    <h2>Reports</h2>
    <canvas id="incomeExpenseChart" height="150"></canvas>
    <canvas id="expenseCategoryChart" height="150" class="mt-4"></canvas>
  </div>

  <!-- Settings -->
  <div id="settings" class="hidden-section mt-3">
    <h2>Settings</h2>
    <div class="form-group">
      <label>Theme</label>
      <select id="themeSelect" class="form-control"><option value="light">Light</option><option value="dark">Dark</option></select>
    </div>
    <div class="form-group">
      <label>Language</label>
      <select id="languageSelect" class="form-control"><option value="en">English</option><option value="ar">Arabic</option></select>
    </div>
    <div class="form-group">
      <label>Font Size</label>
      <input type="number" id="fontSizeInput" class="form-control" value="16">
    </div>
    <div class="form-group">
      <label>Currency Symbol</label>
      <select id="currencySelect" class="form-control"><option value="$">$</option><option value="â‚¬">â‚¬</option><option value="â‚¹">â‚¹</option><option value="Â£">Â£</option></select>
    </div>
    <div class="form-group">
      <label>Change Password</label>
      <input type="password" id="newPassword" class="form-control" placeholder="New Password">
      <button class="btn btn-success mt-2" id="changePasswordBtn">Update Password</button>
    </div>
  </div>

  <!-- About -->
  <div id="about" class="hidden-section mt-3">
    <h2>About</h2>
    <p>Hello! Iâ€™m Mubarak, a numbers enthusiast who loves making personal finance simple and clear. Managing budgets, tracking spending, and planning for the future shouldnâ€™t be complicated. Thatâ€™s why I created this websiteâ€”to help you easily track your income, expenses, and savings, and make smarter financial decisions. Whether youâ€™re just starting out or want better control over your money, Iâ€™m here to make accounting personal, easy, and stress-free.</p>
  </div>

</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script>
let users=[{username:'mubarak',password:'ababeel123'}];
let transactions=[],accounts=['Cash','Bank'],categories=[
  'Groceries & Food','Housing & Utilities','Transportation','Healthcare & Medical',
  'Education & Learning','Family & Kids','Savings & Investments','Personal Care & Household',
  'Entertainment & Leisure','Housing & Living','Food & Groceries','Transportation',
  'Healthcare & Medical','Education & Learning','Family & Children','Personal Care & Clothing',
  'Entertainment & Leisure','Savings & Investments','Taxes & Insurance','Gifts & Charity',
  'Miscellaneous / Emergencies','Miscellaneous / Unexpected'
];

// Login
$('#loginBtn').click(function(){
  const u=$('#loginUsername').val(),p=$('#loginPassword').val();
  if(users.some(x=>x.username===u && x.password===p)){
    $('#loginPage').hide(); $('#sidebar, #mainContent').removeClass('hidden-section'); renderAll();
  } else { $('#errorLogin').fadeIn().delay(2000).fadeOut(); }
});
$('#logoutBtn').click(function(){ location.reload(); });
$('.sidebar a[data-section]').click(function(e){
  e.preventDefault();
  $('.content > div').addClass('hidden-section');
  $('#'+$(this).data('section')).removeClass('hidden-section');
  $('.sidebar a').removeClass('active'); $(this).addClass('active');
});

// Render functions
function renderAll(){ renderAccounts(); renderCategories(); renderTransactions(); updateDashboard(); renderCharts(); }
function renderAccounts(){ $('#accountList').html(accounts.map(a=>`<li class="list-group-item editable" contenteditable="true">${a}</li>`).join('')); }
function renderCategories(){ $('#categoryList').html(categories.map(c=>`<li class="list-group-item editable" contenteditable="true">${c}</li>`).join('')); }
function renderTransactions(){
  const currency=$('#currencySelect').val();
  $('#transactionBody').html(transactions.map((t,i)=>`
  <tr>
    <td><input type="date" class="form-control form-control-sm" value="${t.date}" onchange="updateTransaction(${i},'date',this.value)"></td>
    <td><select class="form-control form-control-sm" onchange="updateTransaction(${i},'account',this.value)">${accounts.map(a=>`<option ${t.account===a?'selected':''}>${a}</option>`).join('')}</select></td>
    <td><select class="form-control form-control-sm" style="max-height:150px; overflow-y:auto;" onchange="updateTransaction(${i},'category',this.value)">${categories.map(c=>`<option ${t.category===c?'selected':''}>${c}</option>`).join('')}</select></td>
    <td><select class="form-control form-control-sm" onchange="updateTransaction(${i},'type',this.value)"><option ${t.type==='Income'?'selected':''}>Income</option><option ${t.type==='Expense'?'selected':''}>Expense</option></select></td>
    <td><input type="number" class="form-control form-control-sm" value="${t.amount}" onchange="updateTransaction(${i},'amount',this.value)"></td>
    <td><button class="btn btn-sm btn-success" onclick="saveTransaction(${i})">Save</button>
        <button class="btn btn-sm btn-danger" onclick="deleteTransaction(${i})">Delete</button></td>
  </tr>`).join(''));
  $('#recentTransactions').html(transactions.slice(-5).map(t=>`<tr><td>${t.date}</td><td>${t.account}</td><td>${t.category}</td><td>${t.type}</td><td>${currency}${t.amount}</td></tr>`).join(''));
}

function updateTransaction(i,field,value){ transactions[i][field]=field==='amount'?Number(value):value; }
function saveTransaction(i){ alert('Transaction saved!'); renderTransactions(); updateDashboard(); renderCharts(); }
function deleteTransaction(i){ if(confirm('Delete this transaction?')){ transactions.splice(i,1); renderTransactions(); updateDashboard(); renderCharts(); } }
$('#addTransactionBtn').click(function(){ let today=new Date().toISOString().split('T')[0]; transactions.push({date:today,account:'Cash',category:'Miscellaneous / Unexpected',type:'Expense',amount:0}); renderTransactions(); updateDashboard(); renderCharts(); });
$('#addAccountBtn').click(function(){ let a=prompt('Enter account name:'); if(a)accounts.push(a); renderAccounts(); });
$('#addCategoryBtn').click(function(){ let c=prompt('Enter category:'); if(c)categories.push(c); renderCategories(); });

// Dashboard & Charts
function updateDashboard(){
  const currency=$('#currencySelect').val();
  let income=transactions.filter(t=>t.type==='Income').reduce((a,b)=>a+Number(b.amount),0);
  let expense=transactions.filter(t=>t.type==='Expense').reduce((a,b)=>a+Number(b.amount),0);
  $('#totalIncome').text(currency+income); $('#totalExpense').text(currency+expense);
  $('#netSavings').text(currency+(income-expense)); $('#cashBalance').text(currency+(income-expense));
}
let chart1, chart2;
function renderCharts(){
  let ctx1=document.getElementById('incomeExpenseChart').getContext('2d');
  let incomeSum=transactions.filter(t=>t.type==='Income').reduce((a,b)=>a+Number(b.amount),0);
  let expenseSum=transactions.filter(t=>t.type==='Expense').reduce((a,b)=>a+Number(b.amount),0);
  if(chart1) chart1.destroy();
  chart1=new Chart(ctx1,{type:'bar',data:{labels:['Income','Expense'],datasets:[{label:'Amount',data:[incomeSum,expenseSum],backgroundColor:['#2ecc71','#e74c3c']}]},options:{responsive:true}});

  let ctx2=document.getElementById('expenseCategoryChart').getContext('2d');
  let expCategories={}; transactions.filter(t=>t.type==='Expense').forEach(t=>{expCategories[t.category]=(expCategories[t.category]||0)+Number(t.amount);});
  if(chart2) chart2.destroy();
  chart2=new Chart(ctx2,{type:'pie',data:{labels:Object.keys(expCategories),datasets:[{data:Object.values(expCategories),backgroundColor:Object.keys(expCategories).map((_,i)=>`hsl(${i*30},70%,50%)`)}]},options:{responsive:true}});
}

// Settings
$('#themeSelect').change(function(){ $('body').toggleClass('dark', $(this).val()=='dark'); });
$('#languageSelect').change(function(){ $('.content').toggleClass('rtl', $(this).val()=='ar'); });
$('#fontSizeInput').change(function(){ $('body').css('font-size', $(this).val()+'px'); });
$('#currencySelect').change(function(){ renderTransactions(); updateDashboard(); renderCharts(); });
$('#changePasswordBtn').click(function(){ let p=$('#newPassword').val(); if(p) users[0].password=p; alert('Password updated!'); });
</script>

</body>
</html>
